"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[471],{471:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var n=r(885),a="SearchBar_moviaList__1M7J0",o="SearchBar_moviaList__item__Gt3gv",c="SearchBar_moviaList__img__IlJOP",s="SearchBar_moviaList__title__GW+L7",i=r(66),u=(r(462),r(791)),m=r(501),_=r(871),l=r(933),h={searchForm:"SearchForm_searchForm__NsJpF",searchForm__form:"SearchForm_searchForm__form__-l1KT",searchForm__input:"SearchForm_searchForm__input__i6El6",searchForm__btn:"SearchForm_searchForm__btn__BRG3D"},f=r(184);function p(e){var t=e.moviaSearch,r=e.submit,a=(0,u.useState)(t),o=(0,n.Z)(a,2),c=o[0],s=o[1];return(0,f.jsx)("div",{className:h.searchForm,children:(0,f.jsxs)("form",{className:h.searchForm__form,onSubmit:function(e){e.preventDefault(),""!==c.trim()?r(c):(0,i.Am)("enter the name of the movie",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:[(0,f.jsx)("input",{className:h.searchForm__input,type:"text",value:c,autoComplete:"off",onChange:function(e){s(e.currentTarget.value.toLowerCase())},placeholder:"Search Films",autoFocus:!0}),(0,f.jsx)("button",{className:h.searchForm__btn,type:"submit",children:(0,f.jsx)("label",{className:h.searchForm__lable})})]})})}function d(){var e=(0,m.lr)(),t=(0,n.Z)(e,1)[0],r=(0,u.useState)(t.get("query")||""),h=(0,n.Z)(r,2),d=h[0],v=h[1],g=(0,u.useState)([]),b=(0,n.Z)(g,2),F=b[0],S=b[1],x=(0,_.s0)(),j=(0,_.TH)();(0,u.useEffect)((function(){d&&l.UN(d).then((function(e){if(0===e.results.length)return(0,i.Am)("Sorry, no movies were found for your request",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});S(e.results)}))}),[d]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(p,{moviaSearch:d,submit:function(e){x("/movies/?query=".concat(e)),v(e),S([])}}),(0,f.jsx)("div",{children:F&&(0,f.jsx)("ul",{className:a,children:F.map((function(e){return(0,f.jsx)("li",{className:o,children:(0,f.jsxs)(m.OL,{to:"/movies/".concat(e.id),state:j,children:[(0,f.jsx)("img",{src:"".concat((t=e.poster_path,t?"https://image.tmdb.org/t/p/w300".concat(t):"https://i.postimg.cc/G2jSRfZG/images.png")),alt:e.title,className:c}),(0,f.jsx)("h3",{className:s,children:e.title})]})},e.id);var t}))})})]})}},933:function(e,t,r){r.d(t,{IQ:function(){return _},Jh:function(){return l},UN:function(){return m},YJ:function(){return f},dU:function(){return h}});var n=r(861),a=r(757),o=r.n(a),c="https://api.themoviedb.org/3",s="0069cb276a083aad6acda19b3adb7038";function i(){return u.apply(this,arguments)}function u(){return u=(0,n.Z)(o().mark((function e(){var t,r,n,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",r=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,r);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function m(e){return i("".concat(c,"/search/movie?&query=").concat(e,"&api_key=").concat(s,"&language=en-US&page=1&include_adult=false"))}function _(e){return i("".concat(c,"/movie/").concat(e,"/credits?api_key=").concat(s,"&language=en-US"))}function l(e){return i("".concat(c,"/movie/").concat(e,"/reviews?api_key=").concat(s,"&language=en-US&page=1"))}function h(){return i("".concat(c,"/trending/movie/day?api_key=").concat(s))}function f(e){return i("".concat(c,"/movie/").concat(e,"?api_key=").concat(s))}}}]);
//# sourceMappingURL=471.e92af6bf.chunk.js.map